{"ast":null,"code":"app.post('/api/checkout-session', async (req, res) => {\n  try {\n    const {\n      title,\n      price,\n      itemId\n    } = req.body;\n    const session = await stripe.checkout.sessions.create({\n      line_items: [{\n        price_data: {\n          currency: 'cad',\n          product_data: {\n            name: title\n          },\n          unit_amount: price * 100 // convert dollars to cents\n        },\n        quantity: 1\n      }],\n      mode: 'payment',\n      success_url: `${process.env.CLIENT_URL}/success?session_id={CHECKOUT_SESSION_ID}&itemId=${itemId}`,\n      cancel_url: `${process.env.CLIENT_URL}/cancel.html`\n    });\n    res.json({\n      url: session.url\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n});","map":{"version":3,"names":["app","post","req","res","title","price","itemId","body","session","stripe","checkout","sessions","create","line_items","price_data","currency","product_data","name","unit_amount","quantity","mode","success_url","process","env","CLIENT_URL","cancel_url","json","url","error","status","message"],"sources":["/Users/uthithmenonravitharan/Documents/GitHub/Grabbit/react-grabbit/src/Pages/SuccessPage.js"],"sourcesContent":["app.post('/api/checkout-session', async (req, res) => {\n    try {\n      const { title, price, itemId } = req.body;\n      const session = await stripe.checkout.sessions.create({\n        line_items: [\n          {\n            price_data: {\n              currency: 'cad',\n              product_data: { name: title },\n              unit_amount: price * 100, // convert dollars to cents\n            },\n            quantity: 1,\n          },\n        ],\n        mode: 'payment',\n        success_url: `${process.env.CLIENT_URL}/success?session_id={CHECKOUT_SESSION_ID}&itemId=${itemId}`,\n        cancel_url: `${process.env.CLIENT_URL}/cancel.html`,\n      });\n      res.json({ url: session.url });\n    } catch (error) {\n      res.status(500).json({ error: error.message });\n    }\n  });"],"mappings":"AAAAA,GAAG,CAACC,IAAI,CAAC,uBAAuB,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAClD,IAAI;IACF,MAAM;MAAEC,KAAK;MAAEC,KAAK;MAAEC;IAAO,CAAC,GAAGJ,GAAG,CAACK,IAAI;IACzC,MAAMC,OAAO,GAAG,MAAMC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,MAAM,CAAC;MACpDC,UAAU,EAAE,CACV;QACEC,UAAU,EAAE;UACVC,QAAQ,EAAE,KAAK;UACfC,YAAY,EAAE;YAAEC,IAAI,EAAEb;UAAM,CAAC;UAC7Bc,WAAW,EAAEb,KAAK,GAAG,GAAG,CAAE;QAC5B,CAAC;QACDc,QAAQ,EAAE;MACZ,CAAC,CACF;MACDC,IAAI,EAAE,SAAS;MACfC,WAAW,EAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,oDAAoDlB,MAAM,EAAE;MAClGmB,UAAU,EAAE,GAAGH,OAAO,CAACC,GAAG,CAACC,UAAU;IACvC,CAAC,CAAC;IACFrB,GAAG,CAACuB,IAAI,CAAC;MAAEC,GAAG,EAAEnB,OAAO,CAACmB;IAAI,CAAC,CAAC;EAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdzB,GAAG,CAAC0B,MAAM,CAAC,GAAG,CAAC,CAACH,IAAI,CAAC;MAAEE,KAAK,EAAEA,KAAK,CAACE;IAAQ,CAAC,CAAC;EAChD;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}